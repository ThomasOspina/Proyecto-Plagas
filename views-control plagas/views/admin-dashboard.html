<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - Control de Plagas</title>
    <link rel="stylesheet" href="/assets/css/admin-dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="navbar">
        <button class="toggle-btn" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
        <h1>Dashboard de Administración</h1>
    </div>

    <div class="container">
        <nav class="sidebar" id="sidebar">
            <ul>
                <li><a href="#agregar-usuario" onclick="mostrarSeccion('form-section')"><i class="fas fa-user-plus"></i> Agregar Usuario</a></li>
                <li><a href="#estadisticas" onclick="mostrarSeccion('statistics-section')"><i class="fas fa-chart-line"></i> Estadísticas de Plagas</a></li>
                <li><a href="#usuarios" onclick="mostrarSeccion('users-section')"><i class="fas fa-users"></i> Usuarios</a></li>
                <li><a href="#configuracion" onclick="mostrarSeccion('settings-section')"><i class="fas fa-cog"></i> Configuración</a></li>
            </ul>
        </nav>

        <div class="content">
            <section class="form-section">
                <h2>Agregar Usuario</h2>
                <form id="userForm" onsubmit="agregarUsuario(); return false;">
                    <input type="text" id="nombreInput" placeholder="Nombre" required>
                    <input type="email" id="emailInput" placeholder="Email" required>
                    <input type="text" id="cedulaInput" placeholder="Cédula" required>
                    <input type="password" id="passwordInput" placeholder="Contraseña" required>
                    <select id="rolInput" class="role-select" required title="Selecciona un rol">
                        <option value="" disabled selected>Selecciona un rol</option>
                        <option value="Admin">Admin</option>
                        <option value="Técnico">Técnico</option>
                    </select>
                    <button type="submit">Agregar Usuario</button>
                </form>
            </section>

            <section class="statistics-section">
                <h2>Estadísticas de Plagas</h2>
                <canvas id="plagasChart"></canvas>
                <p>Comparación con el año anterior: Este año se reportaron un total de 10% menos de plagas en comparación con 2023, lo que refleja una mejora en el control y manejo de las plagas.</p>
            </section>

            <section class="users-section">
                <h2>Usuarios</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Email</th>
                            <th>Cédula</th>
                            <th>Rol</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody"></tbody>
                </table>
            </section>

            <section class="settings-section">
                <h2>Configuración</h2>
                <form id="settingsForm" onsubmit="guardarConfiguracion(event)">
                    <fieldset>
                        <legend>Cambiar Contraseña</legend>
                        <label for="password">Nueva Contraseña:</label>
                        <input type="password" id="password" placeholder="Nueva Contraseña" required minlength="8">
                        <span class="password-requirements">La contraseña debe tener al menos 8 caracteres.</span>
                    </fieldset>

                    <fieldset>
                        <legend>Notificaciones</legend>
                        <label for="notifications">Notificaciones:</label>
                        <select id="notifications">
                            <option value="enabled">Habilitadas</option>
                            <option value="disabled">Deshabilitadas</option>
                        </select>
                    </fieldset>

                    <fieldset>
                        <legend>Idioma</legend>
                        <label for="language">Selecciona un idioma:</label>
                        <select id="language">
                            <option value="es">Español</option>
                            <option value="en">Inglés</option>
                        </select>
                    </fieldset>

                    <fieldset>
                        <legend>Tema</legend>
                        <label for="theme">Selecciona un tema:</label>
                        <select id="theme">
                            <option value="light">Claro</option>
                            <option value="dark">Oscuro</option>
                        </select>
                    </fieldset>

                    <button type="submit">Guardar Configuración</button>
                    <p id="feedback"></p>
                </form>
            </section>
        </div>
    </div>

    <script src="/js/admi.js"></script>
</body>
</html>
