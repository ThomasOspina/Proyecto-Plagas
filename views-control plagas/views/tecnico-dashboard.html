<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Técnico - Gestión de Lotes</title>
    <link rel="stylesheet" href="/assets/css/tecnico-dashboard.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <div class="navbar">
      <button class="toggle-btn" onclick="toggleSidebar()" title="Abrir menú">
        <i class="fas fa-bars"></i>
      </button>
      <h1>Dashboard del Técnico</h1>
    </div>

    <nav class="sidebar" id="sidebar">
      <ul>
        <li>
          <a href="#ver-lotes" onclick="mostrarSeccion('ver-lotes-section')"
            ><i class="fas fa-eye"></i> Ver Lotes</a
          >
        </li>
        <li>
          <a
            href="#ver-siembras"
            onclick="mostrarSeccion('ver-siembras-section')"
            ><i class="fas fa-eye"></i> Ver Siembras</a
          >
        </li>
        <li>
          <a
            href="#planificar-tratamiento"
            onclick="mostrarSeccion('tratamiento-section')"
            ><i class="fas fa-calendar-check"></i> Planificación de
            Tratamiento</a
          >
        </li>
        <li>
          <a href="#ver-informes" onclick="mostrarSeccion('informes-section')"
            ><i class="fas fa-file-alt"></i> Ver Informes</a
          >
        </li>
        <li>
          <a
            href="#configuraciones"
            onclick="mostrarSeccion('configuraciones-section')"
          >
            <i class="fas fa-cogs"></i> Configuraciones
          </a>
        </li>
      </ul>
    </nav>

    <div class="content" id="content">
      <section class="ver-lotes-section">
        <h2>Ver Lotes</h2>
        <table>
          <thead>
            <tr>
              <th>Número de Lote</th>
              <th>Descripción</th>
              <th>Fecha de Creación</th>
              <th>Ubicación</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody id="lotesTableBody">
            <!-- Las filas se llenarán dinámicamente -->
          </tbody>
        </table>
        <h3>Registrar Nuevo Lote</h3>
        <form
          id="loteFormVer"
          onsubmit="registrarLoteDesdeVer(); return false;"
        >
          <input
            type="text"
            id="numeroLoteInputVer"
            placeholder="Número de Lote"
            required
          />
          <input
            type="text"
            id="descripcionInputVer"
            placeholder="Descripción"
            required
          />
          <label for="fechaCreacionInputVer">Fecha de Creación:</label>
          <input type="date" id="fechaCreacionInputVer" required title="Seleccione una fecha" />
          <input
            type="text"
            id="ubicacionLoteInputVer"
            placeholder="Ubicación"
            required
          />
          <label for="estadoLoteInputVer">Estado del lote:</label>
          <select id="estadoLoteInputVer" required title="Seleccione el estado del lote">
            <option value="" disabled selected>Selecciona un estado</option>
            <option value="Activo">Activo</option>
            <option value="Inactivo">Inactivo</option>
          </select>
          <button type="submit">Registrar Lote</button>
        </form>
      </section>

      <section class="ver-siembras-section">
        <h2>Ver Siembras</h2>
        <table>
          <thead>
            <tr>
              <th>Fecha de Siembra</th>
              <th>Cantidad de Plantas</th>
              <th>Tipo de Planta</th>
              <th>Ubicación</th>
              <th>Número de Lote</th>
            </tr>
          </thead>
          <tbody id="siembrasTableBody">
            <!-- Las filas se llenarán dinámicamente -->
          </tbody>
        </table>
        <h3>Registrar Nueva Siembra</h3>
        <form
          id="siembraFormVer"
          onsubmit="registrarSiembraDesdeVer(); return false;"
        >
          <label for="fechaSiembraInputVer">Fecha de Siembra:</label>
          <input type="date" id="fechaSiembraInputVer" required />
          <label for="cantidadPlantasInputVer">Cantidad de Plantas:</label>
          <input
            type="number"
            id="cantidadPlantasInputVer"
            placeholder="Cantidad de Plantas"
            required
          />
          <label for="tipoPlantaInputVer">Tipo de Planta:</label>
          <select id="tipoPlantaInputVer" required>
            <option value="Plátano">platano</option>
          </select>
          <label for="ubicacionInputVer">Ubicación:</label>
          <input
            type="text"
            id="ubicacionInputVer"
            placeholder="Ubicación"
            required
          />
          <label for="numeroLoteSiembraInputVer">Número de Lote:</label>
          <input
            type="text"
            id="numeroLoteSiembraInputVer"
            placeholder="Número de Lote"
            required
          />
          <button type="submit">Registrar Siembra</button>
        </form>
      </section>

      <section class="tratamiento-section">
        <h2>Planificar Tratamiento</h2>
        <form
          id="tratamientoForm"
          onsubmit="planificarTratamiento(); return false;"
        >
        <label for="fechaTratamientoInput">Fecha del Tratamiento</label>
          <input type="date" id="fechaTratamientoInput" required title="Seleccione la fecha del tratamiento"/>
          <input
            type="text"
            id="descripcionTratamientoInput"
            placeholder="Descripción del Tratamiento"
            required
          />
          <button type="submit">Planificar Tratamiento</button>
        </form>
      </section>

      <section class="informes-section">
        <h2>Ver Informes de la API</h2>
        <table>
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Informe</th>
            </tr>
          </thead>
          <tbody id="informesTableBody">
            <tr>
              <td>2024-10-10</td>
              <td>Sin plagas detectadas en el Lote 1.</td>
            </tr>
            <tr>
              <td>2024-10-12</td>
              <td>
                Plaga leve detectada en el Lote 2, tratamiento recomendado.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="configuraciones-section">
        <h2>Configuraciones</h2>
        <form
          id="configuracionForm"
          onsubmit="guardarConfiguracion(); return false;"
        >
          <label for="idiomaInput">Idioma:</label>
          <select id="idiomaInput" required>
            <option value="es">Español</option>
            <option value="en">Inglés</option>
          </select>

          <label for="notificacionesInput">Notificaciones:</label>
          <input type="checkbox" id="notificacionesInput" />

          <label for="visualizacionInput">Preferencias de Visualización:</label>
          <select id="visualizacionInput" required>
            <option value="lista">Lista</option>
            <option value="cuadrícula">Cuadrícula</option>
          </select>

          <button type="submit">Guardar Configuración</button>
        </form>
      </section>
    </div>
    <script src="/js/tecnico.js"></script>
  </body>
</html>
